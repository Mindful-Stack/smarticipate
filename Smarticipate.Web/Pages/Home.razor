@page "/"
@using Smarticipate.Web.Authentication
@inject IAccountManagement Account
@inject NavigationManager Navigation

<h3>Welcome to Smarticipate!</h3>
<AuthorizeView>
    <Authorized>
        <p>You are logged in as @context.User.Identity?.Name</p>
        <button onclick="@LogoutUser">Log out</button>
    </Authorized>

    <NotAuthorized>
        <a href="/Register">Register</a>
        <a href="/Login">Login</a>        
    </NotAuthorized>
</AuthorizeView>

@code{

    private async Task LogoutUser()
    {
        await Account.LogoutAsync();
        Navigation.NavigateTo("/");
    }


}
